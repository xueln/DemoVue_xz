{"remainingRequest":"D:\\Web1905\\vue\\day06_ex\\终版\\xzvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web1905\\vue\\day06_ex\\终版\\xzvue\\src\\views\\Products.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web1905\\vue\\day06_ex\\终版\\xzvue\\src\\views\\Products.vue","mtime":1566555102000},{"path":"D:\\Web1905\\vue\\day06_ex\\终版\\xzvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web1905\\vue\\day06_ex\\终版\\xzvue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Web1905\\vue\\day06_ex\\终版\\xzvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web1905\\vue\\day06_ex\\终版\\xzvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      pno:0, //当前第几页\r\n      pcount:0, //共几页\r\n      products:[] //本次返回的商品列表\r\n    }\r\n  },\r\n  props:[\"kw\"], //自动接收地址栏关键词参数kw作为查询条件\r\n  methods:{\r\n    //点击上一页或下一页按钮，获得-1或+1，和事件对象\r\n    change(n,e){\r\n      //如果当前按钮上没有class disabled\r\n      if(e.target.className.indexOf(\"disabled\")==-1){\r\n        //才调用翻页的函数，传入当前页面+1或-1后的新页码\r\n        this.changepage(parseInt(this.pno)+parseInt(n));\r\n      }\r\n    },\r\n    //专门翻页到指定页码i，然后重新ajax请求服务端指定页码的数据\r\n    changepage(i){\r\n      console.log(i);\r\n      this.load(i);//重新请求第i页的数据\r\n    },\r\n    //重新用查询条件kw查询第i页的数据，如果没给页码，默认查询第0页\r\n    load(pno=0){//今后，无论做什么前端程序(PC端网页， 移动端app，小程序，都要先封装调用服务端接口获取数据的函数)\r\n      this.axios.get(\r\n        \"/products\",\r\n        {\r\n          params:{//服务端接口需要两个参数\r\n            kw:this.kw, //查询关键词\r\n            pno//pno:pno //要查询第几页\r\n          }\r\n        }\r\n      ).then(result=>{\r\n        console.log(result.data);\r\n        //服务端返回页码，包含多个商品对象的数组和总页数，保存到data中用于绑定。\r\n        this.pno=result.data.pno;\r\n        this.products=result.data.data;\r\n        this.pcount=result.data.pageCount;\r\n      })\r\n    }\r\n  },\r\n  created(){//当前组件创建完，立刻自动发送ajax请求，请求第一页的查询结果\r\n    this.load()\r\n  },\r\n  watch:{\r\n    kw(){//监控地址栏变化，只要地址栏关键词发生变化，就自动重新查找。\r\n      this.load();\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <my-header></my-header>\r\n    <main id=\"main\" class=\"container\">\r\n      <div class=\"pb-2 text-center\">\r\n        <img class=\"d-block mx-auto mb-4 w-100\" src=\"img/index/index_guild.png\">\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-9\">\r\n          <h5 class=\"mb-3 p-2 text-muted\">笔记本电脑</h5>\r\n          <div id=\"plist\" class=\"row bg-white ml-1 mr-1 pt-2 pl-2\">\r\n            <div v-for=\"(p,i) of products\" :key=\"i\" class=\"col-md-4 p-1\">\r\n              <div class=\"card mb-4 box-shadow pr-2 pl-2\">\r\n                <router-link :to=\"`/details/${p.lid}`\">\r\n                  <img class=\"card-img-top\" :src=\"p.md\">\r\n                </router-link>\r\n                <div class=\"card-body p-0\">\r\n                  <h5 class=\"text-primary\">￥{{p.price.toFixed(2)}}</h5>\r\n                  <p class=\"card-text\">\r\n                    <router-link :to=\"`/details/${p.lid}`\" class=\"text-muted small\" v-text=\"p.title\"></router-link>\r\n                  </p>\r\n                  <div class=\"d-flex justify-content-between align-items-center p-2 pt-0\">\r\n                    <button class=\"btn btn-outline-secondary p-0 border-0\" type=\"button\">-</button>\r\n                    <input type=\"text\" class=\"form-control p-1\" value=\"10\">\r\n                    <button class=\"btn btn-outline-secondary p-0 border-0\" type=\"button\">+</button>\r\n                    <a class=\"btn btn-primary float-right ml-1 pl-1 pr-1\" href=\"cart.html\">加入购物车</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h6 class=\"mb-3 p-2 text-muted small\">\r\n            <nav aria-label=\"Page navigation example\">\r\n              <ul class=\"pagination mb-0 justify-content-end\">\r\n                <li class=\"page-item\" :class=\"{disabled:pno==0}\"><a class=\"page-link bg-transparent\" href=\"javascript:;\" @click=\"change(-1, $event)\">上一页</a></li>\r\n                <li v-for=\"i of pcount\" :key=\"i\" class=\"page-item\" :class=\"{active:i-1==pno}\"><a class=\"page-link\" :class=\"i-1==pno?'border':'bg-transparent'\" href=\"javascript:;\" v-text=\"i\" @click=\"changepage(i-1)\"></a></li>\r\n                <li class=\"page-item\" :class=\"{disabled:pno==pcount-1}\"><a class=\"page-link bg-transparent\" href=\"javascript:;\" @click=\"change(+1, $event)\">下一页</a></li>\r\n              </ul>\r\n            </nav>\r\n          </h6>\r\n        </div>\r\n        <div class=\"col-md-3 pl-0\">\r\n          <h5 class=\"justify-content-between align-items-center mb-1 text-muted p-2\">\r\n            <img src=\"img/foodstore/foodstore_icon2.png\" alt=\"\"> 商家公告\r\n          </h5>\r\n          <div class=\"bg-white small p-4 text-muted mb-3\">\r\n            <p>本店推出全网最低价套餐，保证比其他平台的价格要低！</p>\r\n            <p>不要葱、姜、蒜等这些忌口暂时无法坐不了，敬请谅解！</p>\r\n            <p>晚上10点以后订餐需另加送餐费2元！谢谢合作！</p>\r\n          </div>\r\n          <ul id=\"cart\" class=\"list-group mb-3\">\r\n          <!-- <ul id=\"cart\" class=\"list-group mb-3 position-fixed\"> -->\r\n            <li class=\"p-0 list-group-item d-flex justify-content-between lh-condensed\">\r\n              <h6 class=\"w-100 d-flex justify-content-between align-items-center mb-0 text-muted p-2 \"> 购物车<a class=\"btn btn-link text-muted\" href=\"#\">清空</a>\r\n              </h6>\r\n            </li>\r\n            <li class=\"p-0 list-group-item d-flex justify-content-between lh-condensed\">\r\n              <div class=\"input-group input-group-sm mt-1 mb-1\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text text-truncate bg-white p-1 border-0 d-inline-block\" title=\"戴尔DELL灵越游匣15PR-5645B 15.6英寸游戏笔记本电脑(i5-7300HQ 8G 128GSSD+1T GTX1050 4G独显 FHD)黑\">戴尔DELL灵越游匣15PR-5645B 15.6英寸游戏笔记本电脑(i5-7300HQ 8G 128GSSD+1T GTX1050 4G独显 FHD)黑</span>\r\n                  <button class=\"btn btn-outline-secondary p-0 border-0\" type=\"button\">-</button>\r\n                </div>\r\n                <input type=\"text\" class=\"form-control p-1\" aria-label=\"Small\" value=\"10\" aria-describedby=\"inputGroup-sizing-sm\">\r\n                <div class=\"input-group-append\">\r\n                  <button class=\"btn btn-outline-secondary p-0 border-0\" type=\"button\">+</button>\r\n                  <span class=\"input-group-text bg-white border-0 p-0 pl-1\">¥59990.00</span>\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li class=\"p-0 list-group-item d-flex justify-content-between lh-condensed\">\r\n              <div class=\"input-group input-group-sm mt-1 mb-1\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text text-truncate bg-white p-1 border-0 d-inline-block\" title=\"Apple MacBook Air 13.3英寸笔记本 银色(Core i5 处理器/8GB内存/256GB SSD闪存 MMGG2CH/A)\">Apple MacBook Air 13.3英寸笔记本 银色(Core i5 处理器/8GB内存/256GB SSD闪存 MMGG2CH/A)</span>\r\n                  <button class=\"btn btn-outline-secondary p-0 border-0\" type=\"button\">-</button>\r\n                </div>\r\n                <input type=\"text\" class=\"form-control p-1\" aria-label=\"Small\" value=\"10\" aria-describedby=\"inputGroup-sizing-sm\">\r\n                <div class=\"input-group-append\">\r\n                  <button class=\"btn btn-outline-secondary p-0 border-0\" type=\"button\">+</button>\r\n                  <span class=\"input-group-text bg-white border-0 p-0 pl-1\">¥69880.00</span>\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li class=\"p-0 list-group-item bg-secondary text-right\">\r\n              <img class=\"mb-2\" src=\"img/foodstore/foodstore_car_2.png\" alt=\"\">\r\n              <h4 class=\"d-inline-block text-white pt-2 m-0\">￥129870.00</h4>\r\n              <a class=\"btn btn-lg btn-primary float-right ml-1 pl-0 pr-0\" href=\"cart.html\">去结算</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n    return {\r\n      pno:0, //当前第几页\r\n      pcount:0, //共几页\r\n      products:[] //本次返回的商品列表\r\n    }\r\n  },\r\n  props:[\"kw\"], //自动接收地址栏关键词参数kw作为查询条件\r\n  methods:{\r\n    //点击上一页或下一页按钮，获得-1或+1，和事件对象\r\n    change(n,e){\r\n      //如果当前按钮上没有class disabled\r\n      if(e.target.className.indexOf(\"disabled\")==-1){\r\n        //才调用翻页的函数，传入当前页面+1或-1后的新页码\r\n        this.changepage(parseInt(this.pno)+parseInt(n));\r\n      }\r\n    },\r\n    //专门翻页到指定页码i，然后重新ajax请求服务端指定页码的数据\r\n    changepage(i){\r\n      console.log(i);\r\n      this.load(i);//重新请求第i页的数据\r\n    },\r\n    //重新用查询条件kw查询第i页的数据，如果没给页码，默认查询第0页\r\n    load(pno=0){//今后，无论做什么前端程序(PC端网页， 移动端app，小程序，都要先封装调用服务端接口获取数据的函数)\r\n      this.axios.get(\r\n        \"/products\",\r\n        {\r\n          params:{//服务端接口需要两个参数\r\n            kw:this.kw, //查询关键词\r\n            pno//pno:pno //要查询第几页\r\n          }\r\n        }\r\n      ).then(result=>{\r\n        console.log(result.data);\r\n        //服务端返回页码，包含多个商品对象的数组和总页数，保存到data中用于绑定。\r\n        this.pno=result.data.pno;\r\n        this.products=result.data.data;\r\n        this.pcount=result.data.pageCount;\r\n      })\r\n    }\r\n  },\r\n  created(){//当前组件创建完，立刻自动发送ajax请求，请求第一页的查询结果\r\n    this.load()\r\n  },\r\n  watch:{\r\n    kw(){//监控地址栏变化，只要地址栏关键词发生变化，就自动重新查找。\r\n      this.load();\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  /*定制小购物车部分样式*/\r\n  #main>div.row>div>h5, #main>div.row>div>h6, #cart>li:first-child>h6{\r\n    background:linear-gradient(to bottom,#f0f0f0,#e0e0e0);\r\n  }\r\n  #cart .input-group-text{\r\n    width:90px;\r\n  }\r\n  #cart input.form-control{\r\n    width:25px!important;\r\n    flex:none;\r\n  }\r\n  #cart .input-group .btn, #plist button.btn{\r\n    width:20px;\r\n    background:linear-gradient(to bottom,#f0f0f0,#e0e0e0);\r\n  }\r\n  #cart .input-group-append>.input-group-text{\r\n    width:80px;\r\n  }\r\n  #cart.position-fixed{\r\n    top:100px; right:100px\r\n  }\r\n\r\n  /*定制商品列表部分的样式*/\r\n  /*#plist button.btn{\r\n  }*/\r\n  #plist input.form-control{\r\n    width:30px;\r\n  }\r\n  #plist+h6 .page-link{\r\n    border-color:#bbb\r\n  }\r\n  #plist+h6 .page-link:hover{\r\n    border-color:#007bff;\r\n  }\r\n  #plist+h6 .page-item.disabled{\r\n    opacity:0.5;\r\n  }\r\n</style>"]}]}